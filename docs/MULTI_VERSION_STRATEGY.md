# å¤šç‰ˆæœ¬æ„å»ºç­–ç•¥

æœ¬æ–‡æ¡£æè¿°äº†Luminous LLM Chaté¡¹ç›®çš„å¤šç‰ˆæœ¬æ„å»ºå’Œåˆ†æ”¯ç®¡ç†ç­–ç•¥ã€‚

## ğŸŒŸ åˆ†æ”¯ç­–ç•¥

### Mainåˆ†æ”¯ (`main`)
- **ç”¨é€”**: ä¸“æ³¨äºç‰¹å®šç‰ˆæœ¬çš„å¼€å‘ï¼ˆå½“å‰ä¸ºMinecraft 1.21.7ï¼‰
- **ç‰¹ç‚¹**: 
  - ç¨³å®šçš„å¼€å‘ç¯å¢ƒ
  - å¿«é€Ÿè¿­ä»£å’Œæµ‹è¯•
  - ä½¿ç”¨é»˜è®¤çš„`gradle.properties`é…ç½®
- **å·¥ä½œæµ**: ä½¿ç”¨ç°æœ‰çš„`build.yml`å·¥ä½œæµè¿›è¡Œå•ç‰ˆæœ¬æ„å»º

### Multi-Versionåˆ†æ”¯ (`multi-version`)
- **ç”¨é€”**: å¤šç‰ˆæœ¬æ„å»ºå’Œå‘å¸ƒ
- **ç‰¹ç‚¹**:
  - åŒ…å«æ‰€æœ‰ç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶
  - æ”¯æŒæ‰¹é‡æ„å»ºå¤šä¸ªMinecraftç‰ˆæœ¬
  - ç”¨äºæ­£å¼å‘å¸ƒ
- **å·¥ä½œæµ**: ä½¿ç”¨æ–°çš„`multi-version-build.yml`å·¥ä½œæµ

## ğŸ”§ æ”¯æŒçš„ç‰ˆæœ¬

å½“å‰æ”¯æŒçš„Minecraftç‰ˆæœ¬ï¼š

| ç‰ˆæœ¬ | é…ç½®æ–‡ä»¶ | çŠ¶æ€ |
|------|----------|------|
| 1.21.5 | `build_version/1.21/gradle-1.21.5.properties` | âœ… æ”¯æŒ |
| 1.21.6 | `build_version/1.21/gradle-1.21.6.properties` | âœ… æ”¯æŒ |
| 1.21.7 | `gradle.properties` (é»˜è®¤) | âœ… ä¸»å¼€å‘ç‰ˆæœ¬ |
| 1.21.8 | `build_version/1.21/gradle-1.21.8.properties` | âœ… æ”¯æŒ |

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. è®¾ç½®å¤šç‰ˆæœ¬åˆ†æ”¯

ä½¿ç”¨æä¾›çš„ç®¡ç†è„šæœ¬ï¼š

```bash
# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x scripts/manage-versions.sh

# åˆ›å»ºmulti-versionåˆ†æ”¯
./scripts/manage-versions.sh create-branch

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
./scripts/manage-versions.sh push-branch
```

### 2. æœ¬åœ°æµ‹è¯•æ„å»º

æµ‹è¯•ç‰¹å®šç‰ˆæœ¬çš„æ„å»ºï¼š

```bash
# åˆ—å‡ºæ‰€æœ‰å¯ç”¨ç‰ˆæœ¬
./scripts/manage-versions.sh list-versions

# æµ‹è¯•æ„å»ºç‰¹å®šç‰ˆæœ¬
./scripts/manage-versions.sh test-build 1.21.6
```

### 3. è§¦å‘å¤šç‰ˆæœ¬æ„å»º

#### æ–¹æ³•ä¸€ï¼šæ¨é€åˆ°multi-versionåˆ†æ”¯
```bash
git checkout multi-version
git push origin multi-version
```

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨è§¦å‘GitHub Actions
1. è®¿é—®GitHubä»“åº“çš„Actionsé¡µé¢
2. é€‰æ‹©"Multi-Version Build"å·¥ä½œæµ
3. ç‚¹å‡»"Run workflow"
4. é€‰æ‹©è¦æ„å»ºçš„ç‰ˆæœ¬ï¼ˆæˆ–é€‰æ‹©"all"æ„å»ºæ‰€æœ‰ç‰ˆæœ¬ï¼‰

### 4. åŒæ­¥mainåˆ†æ”¯çš„æ›´æ”¹

å½“mainåˆ†æ”¯æœ‰æ–°çš„å¼€å‘å†…å®¹æ—¶ï¼š

```bash
./scripts/manage-versions.sh sync-from-main
```

## ğŸ“¦ æ„å»ºäº§ç‰©

å¤šç‰ˆæœ¬æ„å»ºä¼šç”Ÿæˆä»¥ä¸‹æ„ä»¶ï¼š

### æµ‹è¯•æŠ¥å‘Š
- `test-reports-{version}`: æ¯ä¸ªç‰ˆæœ¬çš„æµ‹è¯•æŠ¥å‘Š

### Modæ–‡ä»¶
- `mod-{version}`: æ¯ä¸ªç‰ˆæœ¬çš„mod jaræ–‡ä»¶
- `sources-{version}`: æ¯ä¸ªç‰ˆæœ¬çš„æºç æ–‡ä»¶

### å‘å¸ƒåŒ…
å½“å¯ç”¨`create_release`é€‰é¡¹æ—¶ï¼Œä¼šåˆ›å»ºåŒ…å«æ‰€æœ‰ç‰ˆæœ¬çš„GitHub Releaseã€‚

## ğŸ”„ å¼€å‘å·¥ä½œæµ

### æ—¥å¸¸å¼€å‘
1. åœ¨`main`åˆ†æ”¯è¿›è¡ŒåŠŸèƒ½å¼€å‘
2. ä½¿ç”¨å•ç‰ˆæœ¬æ„å»ºè¿›è¡Œå¿«é€Ÿæµ‹è¯•
3. æäº¤å’Œæ¨é€æ›´æ”¹

### å‡†å¤‡å‘å¸ƒ
1. å°†mainåˆ†æ”¯çš„æ›´æ”¹åŒæ­¥åˆ°multi-versionåˆ†æ”¯
2. è§¦å‘å¤šç‰ˆæœ¬æ„å»º
3. éªŒè¯æ‰€æœ‰ç‰ˆæœ¬éƒ½èƒ½æ­£å¸¸æ„å»º
4. åˆ›å»ºå‘å¸ƒ

### æ·»åŠ æ–°ç‰ˆæœ¬æ”¯æŒ
1. åœ¨`build_version/1.21/`ç›®å½•ä¸‹æ·»åŠ æ–°çš„é…ç½®æ–‡ä»¶
2. æ›´æ–°`multi-version-build.yml`ä¸­çš„ç‰ˆæœ¬çŸ©é˜µ
3. æ›´æ–°ç®¡ç†è„šæœ¬ä¸­çš„ç‰ˆæœ¬åˆ—è¡¨
4. æµ‹è¯•æ–°ç‰ˆæœ¬çš„æ„å»º

## ğŸ› ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

æ¯ä¸ªç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶åŒ…å«ï¼š

```properties
# Minecraftå’ŒFabricç‰ˆæœ¬
minecraft_version=1.21.x
yarn_mappings=1.21.x+build.x
fabric_version=x.xxx.x+1.21.x

# Modå±æ€§
mod_version=1.5.4
maven_group=com.riceawa
archives_base_name=luminousLLMChat-fabric
```

## ğŸ” æ•…éšœæ’é™¤

### æ„å»ºå¤±è´¥
1. æ£€æŸ¥ç‰ˆæœ¬é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®
2. éªŒè¯Minecraftç‰ˆæœ¬å’ŒFabric APIç‰ˆæœ¬çš„å…¼å®¹æ€§
3. æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯ä¿¡æ¯

### åˆ†æ”¯åŒæ­¥é—®é¢˜
1. ç¡®ä¿å·¥ä½œç›®å½•å¹²å‡€ï¼ˆæ— æœªæäº¤æ›´æ”¹ï¼‰
2. æ‰‹åŠ¨è§£å†³åˆå¹¶å†²çª
3. ä½¿ç”¨`git status`æ£€æŸ¥çŠ¶æ€

### ç‰ˆæœ¬é…ç½®é”™è¯¯
1. å¯¹æ¯”å·¥ä½œç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶
2. æ£€æŸ¥Fabricå®˜ç½‘çš„ç‰ˆæœ¬å…¼å®¹æ€§
3. éªŒè¯ä¾èµ–ç‰ˆæœ¬æ˜¯å¦å­˜åœ¨

## ğŸ“‹ æœ€ä½³å®è·µ

1. **ä¿æŒmainåˆ†æ”¯ç¨³å®š**: åªåœ¨mainåˆ†æ”¯è¿›è¡Œç»è¿‡æµ‹è¯•çš„æ›´æ”¹
2. **å®šæœŸåŒæ­¥**: å®šæœŸå°†mainåˆ†æ”¯çš„æ›´æ”¹åŒæ­¥åˆ°multi-versionåˆ†æ”¯
3. **æµ‹è¯•ä¼˜å…ˆ**: åœ¨æ¨é€åˆ°multi-versionåˆ†æ”¯å‰å…ˆè¿›è¡Œæœ¬åœ°æµ‹è¯•
4. **ç‰ˆæœ¬ç®¡ç†**: ä¸ºæ¯ä¸ªé‡è¦å‘å¸ƒåˆ›å»ºGitæ ‡ç­¾
5. **æ–‡æ¡£æ›´æ–°**: æ·»åŠ æ–°ç‰ˆæœ¬æ”¯æŒæ—¶åŠæ—¶æ›´æ–°æ–‡æ¡£

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚éœ€æ·»åŠ æ–°ç‰ˆæœ¬æ”¯æŒæˆ–æ”¹è¿›æ„å»ºæµç¨‹ï¼š

1. Forkä»“åº“
2. åœ¨featureåˆ†æ”¯è¿›è¡Œæ›´æ”¹
3. æµ‹è¯•æ‰€æœ‰ç›¸å…³ç‰ˆæœ¬
4. æäº¤Pull Requeståˆ°mainåˆ†æ”¯
5. ç»è¿‡å®¡æ ¸ååˆå¹¶åˆ°multi-versionåˆ†æ”¯
